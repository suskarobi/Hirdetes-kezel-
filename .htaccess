<IfModule mod_rewrite.c>
    Options +FollowSymLinks
    RewriteEngine On

    # Biztonsági védelem - tiltott mappák
    RedirectMatch 403 ^/(app|bootstrap|config|database|resources|routes|tests|vendor)/
    RedirectMatch 403 ^/\.env$

    # Ha a fájl/mappa létezik a public mappában, azt szolgáljuk ki
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^public/ - [L]

    # Minden más kérést átirányítunk a public mappába
    RewriteCond %{REQUEST_URI} !^/public/
    RewriteRule ^(.*)$ public/$1 [L,QSA]
</IfModule>
